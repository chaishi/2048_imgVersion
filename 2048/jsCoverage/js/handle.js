/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['js/handle.js']) {
  _$jscoverage['js/handle.js'] = [];
  _$jscoverage['js/handle.js'][1] = 0;
  _$jscoverage['js/handle.js'][6] = 0;
  _$jscoverage['js/handle.js'][7] = 0;
  _$jscoverage['js/handle.js'][8] = 0;
  _$jscoverage['js/handle.js'][9] = 0;
  _$jscoverage['js/handle.js'][10] = 0;
  _$jscoverage['js/handle.js'][11] = 0;
  _$jscoverage['js/handle.js'][12] = 0;
  _$jscoverage['js/handle.js'][13] = 0;
  _$jscoverage['js/handle.js'][14] = 0;
  _$jscoverage['js/handle.js'][15] = 0;
  _$jscoverage['js/handle.js'][16] = 0;
  _$jscoverage['js/handle.js'][17] = 0;
  _$jscoverage['js/handle.js'][20] = 0;
  _$jscoverage['js/handle.js'][21] = 0;
  _$jscoverage['js/handle.js'][22] = 0;
  _$jscoverage['js/handle.js'][23] = 0;
  _$jscoverage['js/handle.js'][24] = 0;
  _$jscoverage['js/handle.js'][25] = 0;
  _$jscoverage['js/handle.js'][31] = 0;
  _$jscoverage['js/handle.js'][32] = 0;
  _$jscoverage['js/handle.js'][33] = 0;
  _$jscoverage['js/handle.js'][34] = 0;
  _$jscoverage['js/handle.js'][35] = 0;
  _$jscoverage['js/handle.js'][36] = 0;
  _$jscoverage['js/handle.js'][37] = 0;
  _$jscoverage['js/handle.js'][38] = 0;
  _$jscoverage['js/handle.js'][39] = 0;
  _$jscoverage['js/handle.js'][40] = 0;
  _$jscoverage['js/handle.js'][42] = 0;
  _$jscoverage['js/handle.js'][43] = 0;
  _$jscoverage['js/handle.js'][50] = 0;
  _$jscoverage['js/handle.js'][51] = 0;
  _$jscoverage['js/handle.js'][52] = 0;
  _$jscoverage['js/handle.js'][53] = 0;
  _$jscoverage['js/handle.js'][54] = 0;
  _$jscoverage['js/handle.js'][55] = 0;
  _$jscoverage['js/handle.js'][57] = 0;
  _$jscoverage['js/handle.js'][64] = 0;
  _$jscoverage['js/handle.js'][65] = 0;
  _$jscoverage['js/handle.js'][66] = 0;
  _$jscoverage['js/handle.js'][67] = 0;
  _$jscoverage['js/handle.js'][68] = 0;
  _$jscoverage['js/handle.js'][69] = 0;
  _$jscoverage['js/handle.js'][70] = 0;
  _$jscoverage['js/handle.js'][71] = 0;
  _$jscoverage['js/handle.js'][72] = 0;
  _$jscoverage['js/handle.js'][73] = 0;
  _$jscoverage['js/handle.js'][75] = 0;
  _$jscoverage['js/handle.js'][76] = 0;
  _$jscoverage['js/handle.js'][84] = 0;
  _$jscoverage['js/handle.js'][85] = 0;
  _$jscoverage['js/handle.js'][92] = 0;
  _$jscoverage['js/handle.js'][93] = 0;
  _$jscoverage['js/handle.js'][94] = 0;
  _$jscoverage['js/handle.js'][95] = 0;
  _$jscoverage['js/handle.js'][96] = 0;
  _$jscoverage['js/handle.js'][97] = 0;
  _$jscoverage['js/handle.js'][98] = 0;
  _$jscoverage['js/handle.js'][99] = 0;
  _$jscoverage['js/handle.js'][101] = 0;
  _$jscoverage['js/handle.js'][105] = 0;
  _$jscoverage['js/handle.js'][106] = 0;
  _$jscoverage['js/handle.js'][107] = 0;
  _$jscoverage['js/handle.js'][108] = 0;
  _$jscoverage['js/handle.js'][109] = 0;
  _$jscoverage['js/handle.js'][111] = 0;
  _$jscoverage['js/handle.js'][114] = 0;
  _$jscoverage['js/handle.js'][115] = 0;
  _$jscoverage['js/handle.js'][119] = 0;
  _$jscoverage['js/handle.js'][120] = 0;
  _$jscoverage['js/handle.js'][122] = 0;
  _$jscoverage['js/handle.js'][123] = 0;
  _$jscoverage['js/handle.js'][124] = 0;
  _$jscoverage['js/handle.js'][132] = 0;
  _$jscoverage['js/handle.js'][133] = 0;
  _$jscoverage['js/handle.js'][134] = 0;
  _$jscoverage['js/handle.js'][136] = 0;
  _$jscoverage['js/handle.js'][139] = 0;
  _$jscoverage['js/handle.js'][142] = 0;
  _$jscoverage['js/handle.js'][143] = 0;
  _$jscoverage['js/handle.js'][144] = 0;
  _$jscoverage['js/handle.js'][145] = 0;
  _$jscoverage['js/handle.js'][146] = 0;
  _$jscoverage['js/handle.js'][148] = 0;
  _$jscoverage['js/handle.js'][153] = 0;
  _$jscoverage['js/handle.js'][156] = 0;
  _$jscoverage['js/handle.js'][157] = 0;
  _$jscoverage['js/handle.js'][158] = 0;
  _$jscoverage['js/handle.js'][159] = 0;
  _$jscoverage['js/handle.js'][160] = 0;
  _$jscoverage['js/handle.js'][161] = 0;
  _$jscoverage['js/handle.js'][162] = 0;
  _$jscoverage['js/handle.js'][168] = 0;
  _$jscoverage['js/handle.js'][169] = 0;
  _$jscoverage['js/handle.js'][170] = 0;
  _$jscoverage['js/handle.js'][171] = 0;
  _$jscoverage['js/handle.js'][172] = 0;
  _$jscoverage['js/handle.js'][173] = 0;
  _$jscoverage['js/handle.js'][174] = 0;
  _$jscoverage['js/handle.js'][184] = 0;
  _$jscoverage['js/handle.js'][185] = 0;
  _$jscoverage['js/handle.js'][186] = 0;
  _$jscoverage['js/handle.js'][187] = 0;
  _$jscoverage['js/handle.js'][190] = 0;
  _$jscoverage['js/handle.js'][196] = 0;
  _$jscoverage['js/handle.js'][197] = 0;
  _$jscoverage['js/handle.js'][198] = 0;
  _$jscoverage['js/handle.js'][199] = 0;
  _$jscoverage['js/handle.js'][203] = 0;
  _$jscoverage['js/handle.js'][204] = 0;
  _$jscoverage['js/handle.js'][205] = 0;
  _$jscoverage['js/handle.js'][206] = 0;
  _$jscoverage['js/handle.js'][207] = 0;
  _$jscoverage['js/handle.js'][208] = 0;
  _$jscoverage['js/handle.js'][209] = 0;
  _$jscoverage['js/handle.js'][210] = 0;
  _$jscoverage['js/handle.js'][211] = 0;
  _$jscoverage['js/handle.js'][213] = 0;
  _$jscoverage['js/handle.js'][214] = 0;
  _$jscoverage['js/handle.js'][216] = 0;
  _$jscoverage['js/handle.js'][217] = 0;
  _$jscoverage['js/handle.js'][218] = 0;
  _$jscoverage['js/handle.js'][219] = 0;
  _$jscoverage['js/handle.js'][220] = 0;
  _$jscoverage['js/handle.js'][221] = 0;
  _$jscoverage['js/handle.js'][222] = 0;
  _$jscoverage['js/handle.js'][223] = 0;
  _$jscoverage['js/handle.js'][225] = 0;
  _$jscoverage['js/handle.js'][227] = 0;
  _$jscoverage['js/handle.js'][228] = 0;
  _$jscoverage['js/handle.js'][229] = 0;
  _$jscoverage['js/handle.js'][231] = 0;
  _$jscoverage['js/handle.js'][232] = 0;
  _$jscoverage['js/handle.js'][234] = 0;
  _$jscoverage['js/handle.js'][236] = 0;
  _$jscoverage['js/handle.js'][237] = 0;
  _$jscoverage['js/handle.js'][238] = 0;
  _$jscoverage['js/handle.js'][239] = 0;
  _$jscoverage['js/handle.js'][241] = 0;
  _$jscoverage['js/handle.js'][247] = 0;
  _$jscoverage['js/handle.js'][249] = 0;
  _$jscoverage['js/handle.js'][250] = 0;
  _$jscoverage['js/handle.js'][251] = 0;
  _$jscoverage['js/handle.js'][252] = 0;
  _$jscoverage['js/handle.js'][253] = 0;
  _$jscoverage['js/handle.js'][254] = 0;
  _$jscoverage['js/handle.js'][255] = 0;
  _$jscoverage['js/handle.js'][256] = 0;
  _$jscoverage['js/handle.js'][258] = 0;
  _$jscoverage['js/handle.js'][259] = 0;
  _$jscoverage['js/handle.js'][260] = 0;
  _$jscoverage['js/handle.js'][261] = 0;
  _$jscoverage['js/handle.js'][262] = 0;
  _$jscoverage['js/handle.js'][263] = 0;
  _$jscoverage['js/handle.js'][264] = 0;
  _$jscoverage['js/handle.js'][265] = 0;
  _$jscoverage['js/handle.js'][266] = 0;
  _$jscoverage['js/handle.js'][267] = 0;
  _$jscoverage['js/handle.js'][269] = 0;
  _$jscoverage['js/handle.js'][271] = 0;
  _$jscoverage['js/handle.js'][272] = 0;
  _$jscoverage['js/handle.js'][273] = 0;
  _$jscoverage['js/handle.js'][275] = 0;
  _$jscoverage['js/handle.js'][276] = 0;
  _$jscoverage['js/handle.js'][278] = 0;
  _$jscoverage['js/handle.js'][280] = 0;
  _$jscoverage['js/handle.js'][281] = 0;
  _$jscoverage['js/handle.js'][282] = 0;
  _$jscoverage['js/handle.js'][283] = 0;
  _$jscoverage['js/handle.js'][285] = 0;
  _$jscoverage['js/handle.js'][291] = 0;
  _$jscoverage['js/handle.js'][294] = 0;
  _$jscoverage['js/handle.js'][295] = 0;
  _$jscoverage['js/handle.js'][296] = 0;
  _$jscoverage['js/handle.js'][297] = 0;
  _$jscoverage['js/handle.js'][298] = 0;
  _$jscoverage['js/handle.js'][299] = 0;
  _$jscoverage['js/handle.js'][300] = 0;
  _$jscoverage['js/handle.js'][301] = 0;
  _$jscoverage['js/handle.js'][302] = 0;
  _$jscoverage['js/handle.js'][304] = 0;
  _$jscoverage['js/handle.js'][305] = 0;
  _$jscoverage['js/handle.js'][306] = 0;
  _$jscoverage['js/handle.js'][307] = 0;
  _$jscoverage['js/handle.js'][308] = 0;
  _$jscoverage['js/handle.js'][309] = 0;
  _$jscoverage['js/handle.js'][310] = 0;
  _$jscoverage['js/handle.js'][311] = 0;
  _$jscoverage['js/handle.js'][312] = 0;
  _$jscoverage['js/handle.js'][313] = 0;
  _$jscoverage['js/handle.js'][315] = 0;
  _$jscoverage['js/handle.js'][317] = 0;
  _$jscoverage['js/handle.js'][318] = 0;
  _$jscoverage['js/handle.js'][319] = 0;
  _$jscoverage['js/handle.js'][321] = 0;
  _$jscoverage['js/handle.js'][322] = 0;
  _$jscoverage['js/handle.js'][324] = 0;
  _$jscoverage['js/handle.js'][326] = 0;
  _$jscoverage['js/handle.js'][327] = 0;
  _$jscoverage['js/handle.js'][328] = 0;
  _$jscoverage['js/handle.js'][329] = 0;
  _$jscoverage['js/handle.js'][331] = 0;
  _$jscoverage['js/handle.js'][337] = 0;
  _$jscoverage['js/handle.js'][341] = 0;
  _$jscoverage['js/handle.js'][342] = 0;
  _$jscoverage['js/handle.js'][343] = 0;
  _$jscoverage['js/handle.js'][344] = 0;
  _$jscoverage['js/handle.js'][345] = 0;
  _$jscoverage['js/handle.js'][346] = 0;
  _$jscoverage['js/handle.js'][347] = 0;
  _$jscoverage['js/handle.js'][348] = 0;
  _$jscoverage['js/handle.js'][349] = 0;
  _$jscoverage['js/handle.js'][351] = 0;
  _$jscoverage['js/handle.js'][352] = 0;
  _$jscoverage['js/handle.js'][353] = 0;
  _$jscoverage['js/handle.js'][354] = 0;
  _$jscoverage['js/handle.js'][355] = 0;
  _$jscoverage['js/handle.js'][356] = 0;
  _$jscoverage['js/handle.js'][357] = 0;
  _$jscoverage['js/handle.js'][358] = 0;
  _$jscoverage['js/handle.js'][359] = 0;
  _$jscoverage['js/handle.js'][360] = 0;
  _$jscoverage['js/handle.js'][362] = 0;
  _$jscoverage['js/handle.js'][364] = 0;
  _$jscoverage['js/handle.js'][365] = 0;
  _$jscoverage['js/handle.js'][366] = 0;
  _$jscoverage['js/handle.js'][368] = 0;
  _$jscoverage['js/handle.js'][369] = 0;
  _$jscoverage['js/handle.js'][371] = 0;
  _$jscoverage['js/handle.js'][373] = 0;
  _$jscoverage['js/handle.js'][374] = 0;
  _$jscoverage['js/handle.js'][375] = 0;
  _$jscoverage['js/handle.js'][376] = 0;
  _$jscoverage['js/handle.js'][378] = 0;
  _$jscoverage['js/handle.js'][384] = 0;
}
_$jscoverage['js/handle.js'].source = ["<span class=\"k\">var</span> handle <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @func &#229;&#136;&#157;&#229;&#167;&#139;&#229;&#140;&#150;&#229;&#156;&#176;&#229;&#155;&#190;</span>","<span class=\"c\"> */</span>","handle<span class=\"k\">.</span>initMap <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","\tgl<span class=\"k\">.</span>map <span class=\"k\">=</span> <span class=\"k\">[];</span>","\tgl<span class=\"k\">.</span>gameScore <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","\tgl<span class=\"k\">.</span>gameover <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","\tgl<span class=\"k\">.</span>gameWin <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","\tdocument<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"score\"</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> gl<span class=\"k\">.</span>gameScore<span class=\"k\">;</span>","\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> i<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">new</span> Array<span class=\"k\">();</span>","\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> j<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>flag <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span><span class=\"c\">//&#230;&#160;&#135;&#232;&#174;&#176;&#230;&#152;&#175;&#229;&#144;&#166;&#229;&#144;&#136;&#229;&#185;&#182;&#232;&#191;&#135;</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span>","\tgl<span class=\"k\">.</span>stdWidth <span class=\"k\">=</span> <span class=\"k\">(</span>gl<span class=\"k\">.</span>cvs<span class=\"k\">.</span>width <span class=\"k\">/</span> <span class=\"s\">4</span> <span class=\"k\">-</span> <span class=\"s\">5</span> <span class=\"k\">)</span> <span class=\"k\">|</span> <span class=\"s\">0</span><span class=\"k\">;</span>","\tgl<span class=\"k\">.</span>stdHeight <span class=\"k\">=</span> gl<span class=\"k\">.</span>stdWidth<span class=\"k\">;</span>","\tgl<span class=\"k\">.</span>bgImg <span class=\"k\">=</span> Background<span class=\"k\">.</span>getInstance<span class=\"k\">();</span>","\tgl<span class=\"k\">.</span>bgImg<span class=\"k\">.</span>draw<span class=\"k\">(</span>gl<span class=\"k\">.</span>ctx<span class=\"k\">,</span>gl<span class=\"k\">.</span>cvs<span class=\"k\">);</span>","\thandle<span class=\"k\">.</span>getNewData<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span>","\thandle<span class=\"k\">.</span>getNewData<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @func &#229;&#189;&#147;&#231;&#167;&#187;&#229;&#138;&#168;&#228;&#186;&#139;&#228;&#187;&#182;&#232;&#167;&#166;&#229;&#143;&#145;&#230;&#151;&#182;&#239;&#188;&#140;&#230;&#137;&#167;&#232;&#161;&#140;&#232;&#175;&#165;&#229;&#135;&#189;&#230;&#149;&#176;&#239;&#188;&#140;&#230;&#160;&#185;&#230;&#141;&#174;&#231;&#167;&#187;&#229;&#138;&#168;&#230;&#150;&#185;&#229;&#144;&#145;&#229;&#188;&#128;&#229;&#167;&#139;&#231;&#167;&#187;&#229;&#138;&#168;</span>","<span class=\"c\"> */</span>","handle<span class=\"k\">.</span>derection <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>der<span class=\"k\">)</span><span class=\"k\">{</span>","\t<span class=\"k\">if</span><span class=\"k\">(!</span>handle<span class=\"k\">.</span>checkQueue<span class=\"k\">())</span> <span class=\"c\">//&#228;&#184;&#128;&#230;&#172;&#161;&#230;&#187;&#145;&#229;&#138;&#168;&#229;&#174;&#140;&#230;&#136;&#144;&#228;&#185;&#139;&#229;&#137;&#141;&#228;&#184;&#141;&#232;&#131;&#189;&#231;&#187;&#167;&#231;&#187;&#173;&#230;&#187;&#145;&#229;&#138;&#168;</span>","\t\t<span class=\"k\">return</span><span class=\"k\">;</span>","\t<span class=\"k\">var</span> flagMove <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","\t<span class=\"k\">switch</span><span class=\"k\">(</span>der<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t<span class=\"k\">case</span> <span class=\"s\">37</span><span class=\"k\">:</span>flagMove <span class=\"k\">=</span> handle<span class=\"k\">.</span>searchMapLeft<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span><span class=\"k\">break</span><span class=\"k\">;</span>","\t\t<span class=\"k\">case</span> <span class=\"s\">38</span><span class=\"k\">:</span>flagMove <span class=\"k\">=</span> handle<span class=\"k\">.</span>searchMapUp<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span><span class=\"k\">break</span><span class=\"k\">;</span>","\t\t<span class=\"k\">case</span> <span class=\"s\">39</span><span class=\"k\">:</span>flagMove <span class=\"k\">=</span> handle<span class=\"k\">.</span>searchMapRight<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span><span class=\"k\">break</span><span class=\"k\">;</span>","\t\t<span class=\"k\">case</span> <span class=\"s\">40</span><span class=\"k\">:</span>flagMove <span class=\"k\">=</span> handle<span class=\"k\">.</span>searchMapDown<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span><span class=\"k\">break</span><span class=\"k\">;</span>","\t\t<span class=\"k\">default</span><span class=\"k\">:</span><span class=\"k\">break</span><span class=\"k\">;</span>","\t<span class=\"k\">}</span>","\t<span class=\"k\">if</span><span class=\"k\">(</span>flagMove<span class=\"k\">)</span><span class=\"k\">{</span>","\t\thandle<span class=\"k\">.</span>slide<span class=\"k\">(</span>der<span class=\"k\">);</span>","\t<span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @func &#231;&#167;&#187;&#229;&#138;&#168;&#230;&#149;&#136;&#230;&#158;&#156;</span>","<span class=\"c\"> */</span>","handle<span class=\"k\">.</span>slide <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>der<span class=\"k\">)</span><span class=\"k\">{</span>","\tgl<span class=\"k\">.</span>ctx<span class=\"k\">.</span>clearRect<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span>gl<span class=\"k\">.</span>cvs<span class=\"k\">.</span>width<span class=\"k\">,</span>gl<span class=\"k\">.</span>cvs<span class=\"k\">.</span>height<span class=\"k\">);</span>","\tgl<span class=\"k\">.</span>bgImg<span class=\"k\">.</span>draw<span class=\"k\">();</span>","\thandle<span class=\"k\">.</span>searchRect<span class=\"k\">(</span>der<span class=\"k\">);</span>\t\t","\t<span class=\"k\">if</span><span class=\"k\">(!</span>handle<span class=\"k\">.</span>checkQueue<span class=\"k\">())</span><span class=\"k\">{</span>\t","\t\twindow<span class=\"k\">.</span>requestAnimationFrame<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>handle<span class=\"k\">.</span>slide<span class=\"k\">(</span>der<span class=\"k\">);</span><span class=\"k\">}</span><span class=\"k\">);</span>","\t<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","\t\thandle<span class=\"k\">.</span>obser<span class=\"k\">.</span>pubGoal<span class=\"k\">();</span>","\t<span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @func &#230;&#155;&#180;&#230;&#150;&#176;&#229;&#156;&#176;&#229;&#155;&#190;&#239;&#188;&#136;&#231;&#167;&#187;&#229;&#138;&#168;&#229;&#174;&#140;&#230;&#136;&#144;&#229;&#144;&#142;&#239;&#188;&#137;</span>","<span class=\"c\"> */</span>","handle<span class=\"k\">.</span>reDrawMap <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","\tgl<span class=\"k\">.</span>ctx<span class=\"k\">.</span>clearRect<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span>gl<span class=\"k\">.</span>cvs<span class=\"k\">.</span>width<span class=\"k\">,</span>gl<span class=\"k\">.</span>cvs<span class=\"k\">.</span>height<span class=\"k\">);</span>","\tgl<span class=\"k\">.</span>bgImg<span class=\"k\">.</span>draw<span class=\"k\">();</span>","\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> m <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> m <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> m<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> p <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> p<span class=\"k\">++)</span><span class=\"k\">{</span>\t","\t\t\t<span class=\"k\">var</span> _map <span class=\"k\">=</span> gl<span class=\"k\">.</span>map<span class=\"k\">[</span>m<span class=\"k\">][</span>p<span class=\"k\">];</span>","\t\t\t_map<span class=\"k\">.</span>flag <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>\t\t","\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>_map<span class=\"k\">.</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>\t\t\t","\t\t\t\t_map<span class=\"k\">.</span>Img <span class=\"k\">=</span> <span class=\"k\">new</span> Img<span class=\"k\">(</span><span class=\"k\">{</span>x<span class=\"k\">:</span>m<span class=\"k\">,</span>y<span class=\"k\">:</span>p<span class=\"k\">}</span><span class=\"k\">,</span>_map<span class=\"k\">.</span>value<span class=\"k\">);</span>","\t\t\t\t_map<span class=\"k\">.</span>Img<span class=\"k\">.</span>drawByPos<span class=\"k\">();</span>","\t\t\t<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>_map<span class=\"k\">.</span>Img<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t<span class=\"k\">delete</span> _map<span class=\"k\">.</span>Img<span class=\"k\">;</span>","\t\t\t\t<span class=\"k\">}</span>","\t\t\t<span class=\"k\">}</span> ","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">//&#230;&#155;&#180;&#230;&#148;&#185;&#229;&#136;&#134;&#230;&#149;&#176;</span>","handle<span class=\"k\">.</span>changeScore <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","\tdocument<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"score\"</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> gl<span class=\"k\">.</span>gameScore<span class=\"k\">;</span>\t","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @func &#229;&#136;&#155;&#229;&#187;&#186;&#230;&#150;&#176;&#229;&#155;&#190;&#231;&#137;&#135;&#239;&#188;&#140;&#229;&#166;&#130;&#239;&#188;&#154;&#226;&#128;&#156;2&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#226;&#128;&#157;&#239;&#188;&#140; &#239;&#188;&#136;&#232;&#131;&#189;&#229;&#164;&#159;&#230;&#136;&#144;&#229;&#138;&#159;&#231;&#167;&#187;&#229;&#138;&#168;&#228;&#185;&#139;&#229;&#144;&#142;&#239;&#188;&#140;&#230;&#136;&#150;&#232;&#128;&#133;&#230;&#184;&#184;&#230;&#136;&#143;&#229;&#136;&#154;&#229;&#188;&#128;&#229;&#167;&#139;&#239;&#188;&#137;</span>","<span class=\"c\"> * @param value: &#231;&#148;&#168;&#228;&#186;&#142;&#231;&#148;&#159;&#230;&#136;&#144;&#229;&#144;&#141;&#228;&#184;&#186;value&#231;&#154;&#132; png&#229;&#155;&#190;&#231;&#137;&#135;</span>","<span class=\"c\"> */</span>","handle<span class=\"k\">.</span>getNewData <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>value<span class=\"k\">)</span><span class=\"k\">{</span>","\t<span class=\"k\">var</span> xx <span class=\"k\">=</span> <span class=\"k\">(</span>Math<span class=\"k\">.</span>random<span class=\"k\">()</span> <span class=\"k\">*</span> <span class=\"s\">40</span> <span class=\"k\">|</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">%</span> <span class=\"s\">4</span><span class=\"k\">;</span>","\t<span class=\"k\">var</span> yy <span class=\"k\">=</span> <span class=\"k\">(</span>Math<span class=\"k\">.</span>random<span class=\"k\">()</span> <span class=\"k\">*</span> <span class=\"s\">40</span> <span class=\"k\">|</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">%</span> <span class=\"s\">4</span><span class=\"k\">;</span>","\t<span class=\"k\">var</span> _map <span class=\"k\">=</span> gl<span class=\"k\">.</span>map<span class=\"k\">[</span>xx<span class=\"k\">][</span>yy<span class=\"k\">];</span>","\t<span class=\"k\">if</span><span class=\"k\">(!</span>_map<span class=\"k\">.</span>Img<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t_map<span class=\"k\">.</span>value <span class=\"k\">=</span> value<span class=\"k\">;</span>","\t\t_map<span class=\"k\">.</span>Img <span class=\"k\">=</span> <span class=\"k\">new</span> Img<span class=\"k\">(</span><span class=\"k\">{</span>x<span class=\"k\">:</span>xx<span class=\"k\">,</span>y<span class=\"k\">:</span>yy<span class=\"k\">}</span><span class=\"k\">,</span>value<span class=\"k\">);</span>\t","\t\t_map<span class=\"k\">.</span>Img<span class=\"k\">.</span>drawByPos<span class=\"k\">();</span>","\t<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","\t\thandle<span class=\"k\">.</span>getNewData<span class=\"k\">(</span>value<span class=\"k\">);</span>","\t<span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","handle<span class=\"k\">.</span>gameWin <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>gameWin<span class=\"k\">)</span><span class=\"k\">{</span>","\t\tdocument<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"gameResult\"</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">\"&#230;&#129;&#173;&#229;&#150;&#156;&#228;&#189;&#160;&#239;&#188;&#140;&#233;&#128;&#154;&#229;&#133;&#179;&#230;&#136;&#144;&#229;&#138;&#159;&#239;&#188;&#129;&#239;&#188;&#129;&#239;&#188;&#129;\"</span><span class=\"k\">;</span>","\t\teventHandle<span class=\"k\">.</span>removeAllEvent<span class=\"k\">();</span>","\t\t<span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t<span class=\"k\">}</span>\t\t\t\t","\t<span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","handle<span class=\"k\">.</span>gameOver <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","\t<span class=\"k\">var</span> f1 <span class=\"k\">=</span> handle<span class=\"k\">.</span>searchMapLeft<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">),</span>","\t\tf2 <span class=\"k\">=</span> handle<span class=\"k\">.</span>searchMapUp<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">),</span>","\t\tf3 <span class=\"k\">=</span> handle<span class=\"k\">.</span>searchMapRight<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">),</span>","\t\tf4 <span class=\"k\">=</span> handle<span class=\"k\">.</span>searchMapDown<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","\t<span class=\"k\">if</span><span class=\"k\">(</span> f1 <span class=\"k\">||</span> f2 <span class=\"k\">||</span> f3 <span class=\"k\">||</span> f4<span class=\"k\">)</span><span class=\"k\">{</span>\t\t\t","\t\t<span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","\t<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","\t\tdocument<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"gameResult\"</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">\"&#229;&#190;&#136;&#233;&#129;&#151;&#230;&#134;&#190;&#239;&#188;&#140;&#233;&#128;&#154;&#229;&#133;&#179;&#229;&#164;&#177;&#232;&#180;&#165;&#239;&#188;&#129;&#239;&#188;&#129;&#239;&#188;&#129;\"</span><span class=\"k\">;</span>","\t\teventHandle<span class=\"k\">.</span>removeAllEvent<span class=\"k\">();</span>","\t\t<span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t<span class=\"k\">}</span>\t","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @func &#232;&#174;&#190;&#229;&#174;&#154;&#228;&#184;&#128;&#228;&#184;&#170;&#231;&#155;&#174;&#230;&#160;&#135;&#239;&#188;&#154;&#229;&#141;&#179;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#231;&#167;&#187;&#229;&#138;&#168;&#227;&#128;&#130;&#229;&#189;&#147;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#231;&#167;&#187;&#229;&#138;&#168;&#229;&#174;&#140;&#230;&#136;&#144;&#230;&#151;&#182;&#239;&#188;&#140;&#229;&#143;&#175;&#233;&#128;&#154;&#231;&#159;&#165;&#232;&#167;&#130;&#229;&#175;&#159;&#232;&#128;&#133;&#228;&#187;&#172;&#229;&#174;&#140;&#230;&#136;&#144;&#232;&#135;&#170;&#229;&#183;&#177;&#231;&#154;&#132;&#229;&#183;&#165;&#228;&#189;&#156;</span>","<span class=\"c\"> * &#232;&#167;&#130;&#229;&#175;&#159;&#232;&#128;&#133;&#229;&#166;&#130;&#228;&#184;&#139; &#239;&#188;&#154; &#229;&#136;&#155;&#229;&#187;&#186;&#230;&#150;&#176;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#239;&#188;&#140;&#233;&#135;&#141;&#231;&#187;&#152;&#229;&#156;&#176;&#229;&#155;&#190;&#239;&#188;&#140;&#229;&#136;&#164;&#230;&#150;&#173;&#230;&#184;&#184;&#230;&#136;&#143;&#231;&#187;&#147;&#230;&#157;&#159;&#228;&#184;&#142;&#229;&#144;&#166;&#239;&#188;&#140;&#230;&#155;&#180;&#230;&#148;&#185;&#230;&#184;&#184;&#230;&#136;&#143;&#229;&#136;&#134;&#230;&#149;&#176;</span>","<span class=\"c\"> */</span>","handle<span class=\"k\">.</span>observerMove <span class=\"k\">=</span> <span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","\t<span class=\"k\">function</span> obj<span class=\"k\">()</span><span class=\"k\">{</span>","\t\t<span class=\"k\">this</span><span class=\"k\">.</span>fns <span class=\"k\">=</span> <span class=\"k\">[];</span>","\t<span class=\"k\">}</span>","\tobj<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","\t\tconstructor<span class=\"k\">:</span>obj<span class=\"k\">,</span>","\t\taddObserver<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>fn<span class=\"k\">,</span>data<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">this</span><span class=\"k\">.</span>fns<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>fn<span class=\"k\">:</span>fn<span class=\"k\">,</span>data<span class=\"k\">:</span>data<span class=\"k\">}</span><span class=\"k\">);</span>","\t\t<span class=\"k\">}</span><span class=\"k\">,</span>","\t\tpubGoal<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> len <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>fns<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> len<span class=\"k\">;</span> i <span class=\"k\">+=</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t<span class=\"k\">var</span> func <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>fns<span class=\"k\">[</span>i<span class=\"k\">];</span>","\t       \t\t<span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">typeof</span> func<span class=\"k\">.</span>fn <span class=\"k\">===</span> <span class=\"s\">\"function\"</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t       \t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>func<span class=\"k\">.</span>data<span class=\"k\">)</span>","\t       \t\t\t\tfunc<span class=\"k\">.</span>fn<span class=\"k\">(</span> func<span class=\"k\">.</span>data <span class=\"k\">);</span>","\t       \t\t\t<span class=\"k\">else</span>","\t       \t\t\t\tfunc<span class=\"k\">.</span>fn<span class=\"k\">();</span>","\t       \t\t<span class=\"k\">}</span>","\t       <span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span><span class=\"k\">;</span>","\t<span class=\"k\">return</span> obj<span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>","","handle<span class=\"k\">.</span>obser <span class=\"k\">=</span> <span class=\"k\">new</span> handle<span class=\"k\">.</span>observerMove<span class=\"k\">();</span>","handle<span class=\"k\">.</span>obser<span class=\"k\">.</span>addObserver<span class=\"k\">(</span>handle<span class=\"k\">.</span>reDrawMap<span class=\"k\">);</span>","handle<span class=\"k\">.</span>obser<span class=\"k\">.</span>addObserver<span class=\"k\">(</span>handle<span class=\"k\">.</span>changeScore<span class=\"k\">);</span>","handle<span class=\"k\">.</span>obser<span class=\"k\">.</span>addObserver<span class=\"k\">(</span>handle<span class=\"k\">.</span>getNewData<span class=\"k\">,</span><span class=\"s\">1</span><span class=\"k\">);</span>","handle<span class=\"k\">.</span>obser<span class=\"k\">.</span>addObserver<span class=\"k\">(</span>handle<span class=\"k\">.</span>gameWin<span class=\"k\">);</span>","handle<span class=\"k\">.</span>obser<span class=\"k\">.</span>addObserver<span class=\"k\">(</span>handle<span class=\"k\">.</span>gameOver<span class=\"k\">);</span>","handle<span class=\"k\">.</span>obser<span class=\"k\">.</span>addObserver<span class=\"k\">(</span>handle<span class=\"k\">.</span>reDrawMap<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @func &#229;&#175;&#187;&#230;&#137;&#190;&#229;&#190;&#133;&#231;&#167;&#187;&#229;&#138;&#168;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#239;&#188;&#140;&#229;&#138;&#160;&#229;&#133;&#165;&#231;&#167;&#187;&#229;&#138;&#168;&#233;&#152;&#159;&#229;&#136;&#151;</span>","<span class=\"c\"> * @param {number} der &#231;&#167;&#187;&#229;&#138;&#168;&#230;&#150;&#185;&#229;&#144;&#145; </span>","<span class=\"c\"> */</span>","handle<span class=\"k\">.</span>searchRect <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>der<span class=\"k\">)</span><span class=\"k\">{</span>","\tgl<span class=\"k\">.</span>queue<span class=\"k\">.</span>length <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> i<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> j<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>Img<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>Img<span class=\"k\">.</span>move<span class=\"k\">(</span>der<span class=\"k\">);</span>","\t\t\t\tgl<span class=\"k\">.</span>queue<span class=\"k\">.</span>push<span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>Img<span class=\"k\">);</span>","\t\t\t<span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @func &#230;&#163;&#128;&#230;&#159;&#165;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#231;&#167;&#187;&#229;&#138;&#168;&#233;&#152;&#159;&#229;&#136;&#151;&#233;&#135;&#140;&#231;&#154;&#132;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#230;&#152;&#175;&#229;&#144;&#166;&#231;&#167;&#187;&#229;&#138;&#168;&#229;&#174;&#140;&#230;&#136;&#144;</span>","<span class=\"c\"> * @return {Boolean} &#231;&#167;&#187;&#229;&#138;&#168;&#229;&#174;&#140;&#230;&#136;&#144;&#229;&#144;&#142;&#232;&#191;&#148;&#229;&#155;&#158;true&#239;&#188;&#140;&#229;&#144;&#166;&#229;&#136;&#153;&#232;&#191;&#148;&#229;&#155;&#158;false</span>","<span class=\"c\"> */</span>","handle<span class=\"k\">.</span>checkQueue <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> len <span class=\"k\">=</span> gl<span class=\"k\">.</span>queue<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> len<span class=\"k\">;</span> i<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t<span class=\"k\">if</span><span class=\"k\">(!</span>gl<span class=\"k\">.</span>queue<span class=\"k\">[</span>i<span class=\"k\">].</span>arrived<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"c\">//&#233;&#152;&#159;&#229;&#136;&#151;&#233;&#135;&#140;&#232;&#191;&#152;&#230;&#156;&#137;&#230;&#156;&#170;&#229;&#174;&#140;&#230;&#136;&#144;&#231;&#154;&#132;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span>","\t<span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","","","","handle<span class=\"k\">.</span>setOldPos <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>ki<span class=\"k\">,</span>kj<span class=\"k\">)</span><span class=\"k\">{</span>","\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>Img<span class=\"k\">.</span>ePosition<span class=\"k\">.</span>x <span class=\"k\">=</span> ki<span class=\"k\">;</span>","\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>Img<span class=\"k\">.</span>ePosition<span class=\"k\">.</span>y <span class=\"k\">=</span> kj<span class=\"k\">;</span>\t","<span class=\"k\">}</span><span class=\"k\">;</span>","","","handle<span class=\"k\">.</span>searchMapUp <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>test<span class=\"k\">)</span><span class=\"k\">{</span>","\t<span class=\"k\">var</span> flagMove <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> i<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> j<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span><span class=\"k\">{</span><span class=\"c\">//&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#230;&#156;&#137;&#229;&#128;&#188;&#230;&#151;&#182;\t\t\t\t</span>","\t\t\t\t<span class=\"k\">var</span> t <span class=\"k\">=</span> gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value<span class=\"k\">;</span>","\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>j <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">=</span> j <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span> k <span class=\"k\">&gt;=</span> <span class=\"s\">0</span><span class=\"k\">;</span> k<span class=\"k\">--)</span><span class=\"k\">{</span>\t\t\t\t","\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span><span class=\"c\">//&#229;&#189;&#147;&#228;&#184;&#138;&#228;&#184;&#128;&#228;&#184;&#170;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#230;&#156;&#137;&#229;&#128;&#188;&#230;&#151;&#182;</span>","\t\t\t\t\t\t<span class=\"c\">//&#229;&#189;&#147;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#231;&#154;&#132;&#229;&#128;&#188;&#228;&#184;&#142;&#228;&#184;&#138;&#228;&#184;&#128;&#228;&#184;&#170;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#231;&#154;&#132;&#229;&#128;&#188;&#231;&#155;&#184;&#231;&#173;&#137;&#230;&#151;&#182;,&#229;&#144;&#136;&#229;&#185;&#182;</span>","\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value <span class=\"k\">==</span> t <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>flag<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span> <span class=\"c\">//&#232;&#139;&#165;&#229;&#143;&#170;&#230;&#152;&#175;&#230;&#163;&#128;&#230;&#181;&#139;&#232;&#131;&#189;&#229;&#144;&#166;&#231;&#167;&#187;&#229;&#138;&#168;&#239;&#188;&#140;&#228;&#184;&#141;&#230;&#148;&#185;&#229;&#143;&#152;&#231;&#187;&#136;&#231;&#130;&#185;&#231;&#155;&#174;&#230;&#160;&#135;</span>","\t\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>k<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>gameScore <span class=\"k\">+=</span> Math<span class=\"k\">.</span>pow<span class=\"k\">(</span><span class=\"s\">2</span><span class=\"k\">,</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value<span class=\"k\">++;</span>\t","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>flag <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t\t","\t\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value <span class=\"k\">==</span> <span class=\"s\">11</span><span class=\"k\">)</span><span class=\"c\">//&#229;&#135;&#186;&#231;&#142;&#176;2048&#230;&#184;&#184;&#230;&#136;&#143;&#233;&#128;&#154;&#229;&#133;&#179;</span>","\t\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>gameWin <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t\t","\t\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t\t\t\t\t\t","\t\t\t\t\t\t<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span><span class=\"c\">//&#228;&#184;&#138;&#230;&#150;&#185;&#230;&#156;&#137;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#239;&#188;&#140;&#228;&#189;&#134;2&#228;&#184;&#170;&#230;&#150;&#185;&#229;&#157;&#151;&#229;&#132;&#191;&#231;&#154;&#132;&#229;&#128;&#188;&#228;&#184;&#141;&#231;&#155;&#184;&#229;&#144;&#140;</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>k<span class=\"k\">+</span><span class=\"s\">1</span><span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">+</span><span class=\"s\">1</span><span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t\t\t\t<span class=\"k\">}</span>\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>j <span class=\"k\">!=</span> k <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">)</span>","\t\t\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t<span class=\"k\">break</span><span class=\"k\">;</span>","\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>k <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>k<span class=\"k\">);</span>","\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t<span class=\"k\">}</span>\t\t\t\t\t","\t\t\t\t<span class=\"k\">}</span>","\t\t\t<span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span>","\t<span class=\"k\">return</span> flagMove<span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","handle<span class=\"k\">.</span>searchMapDown <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>test<span class=\"k\">)</span><span class=\"k\">{</span>","\t<span class=\"k\">var</span> flagMove <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> i<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">3</span><span class=\"k\">;</span> j <span class=\"k\">&gt;=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j<span class=\"k\">--)</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>\t\t\t\t","\t\t\t\t<span class=\"k\">var</span> t <span class=\"k\">=</span> gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value<span class=\"k\">;</span>","\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>j <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>j<span class=\"k\">);</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">=</span> j <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span> k <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> k<span class=\"k\">++)</span><span class=\"k\">{</span>\t\t\t\t\t","\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value <span class=\"k\">==</span> t <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>flag<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>k<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>gameScore <span class=\"k\">+=</span> Math<span class=\"k\">.</span>pow<span class=\"k\">(</span><span class=\"s\">2</span><span class=\"k\">,</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value<span class=\"k\">++;</span>\t","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>flag <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t","\t\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value <span class=\"k\">==</span> <span class=\"s\">11</span><span class=\"k\">)</span><span class=\"c\">//&#229;&#135;&#186;&#231;&#142;&#176;2048&#230;&#184;&#184;&#230;&#136;&#143;&#233;&#128;&#154;&#229;&#133;&#179;</span>","\t\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>gameWin <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t","\t\t\t\t\t\t\t<span class=\"k\">}</span>\t","\t\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t\t\t\t\t\t\t\t","\t\t\t\t\t\t<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>k<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>\t","\t\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>j <span class=\"k\">!=</span> k <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">)</span>","\t\t\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t","\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t<span class=\"k\">break</span><span class=\"k\">;</span>","\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>k <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>k<span class=\"k\">);</span>","\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>k<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t<span class=\"k\">}</span>\t\t\t\t\t","\t\t\t\t<span class=\"k\">}</span>","\t\t\t<span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span>","\t<span class=\"k\">return</span> flagMove<span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","handle<span class=\"k\">.</span>searchMapLeft <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>test<span class=\"k\">)</span><span class=\"k\">{</span>","\t<span class=\"k\">var</span> flagMove <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> j<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> i<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>\t\t\t\t","\t\t\t\t<span class=\"k\">var</span> t <span class=\"k\">=</span> gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value<span class=\"k\">;</span>","\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>i <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">=</span> i <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span> k <span class=\"k\">&gt;=</span> <span class=\"s\">0</span><span class=\"k\">;</span> k<span class=\"k\">--)</span><span class=\"k\">{</span>\t\t\t\t\t","\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">==</span> t <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>flag<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>k<span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>gameScore <span class=\"k\">+=</span> Math<span class=\"k\">.</span>pow<span class=\"k\">(</span><span class=\"s\">2</span><span class=\"k\">,</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value<span class=\"k\">++;</span>\t","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>flag <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">==</span> <span class=\"s\">11</span><span class=\"k\">)</span><span class=\"c\">//&#229;&#135;&#186;&#231;&#142;&#176;2048&#230;&#184;&#184;&#230;&#136;&#143;&#233;&#128;&#154;&#229;&#133;&#179;</span>","\t\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>gameWin <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t\t<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>k<span class=\"k\">+</span><span class=\"s\">1</span><span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">+</span><span class=\"s\">1</span><span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>\t","\t\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>i <span class=\"k\">!=</span> k <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">)</span>","\t\t\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t<span class=\"k\">break</span><span class=\"k\">;</span>","\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>k <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>k<span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t<span class=\"k\">}</span>\t\t\t\t\t","\t\t\t\t<span class=\"k\">}</span>","\t\t\t<span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span>","\t<span class=\"k\">return</span> flagMove<span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","","handle<span class=\"k\">.</span>searchMapRight <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>test<span class=\"k\">)</span><span class=\"k\">{</span>","\t<span class=\"k\">var</span> flagMove <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> j<span class=\"k\">++)</span><span class=\"k\">{</span>","\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">3</span><span class=\"k\">;</span> i <span class=\"k\">&gt;=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">--)</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>\t","\t\t\t\t<span class=\"k\">var</span> t <span class=\"k\">=</span> gl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value<span class=\"k\">;</span>\t\t","\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>i <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>i<span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t<span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">=</span> i <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span> k <span class=\"k\">&lt;</span> <span class=\"s\">4</span><span class=\"k\">;</span> k<span class=\"k\">++)</span><span class=\"k\">{</span>\t\t\t\t\t","\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">==</span> t <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>flag<span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>k<span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>gameScore <span class=\"k\">+=</span> Math<span class=\"k\">.</span>pow<span class=\"k\">(</span><span class=\"s\">2</span><span class=\"k\">,</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value<span class=\"k\">++;</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>flag <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t\t\t","\t\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>gl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">==</span> <span class=\"s\">11</span><span class=\"k\">)</span><span class=\"c\">//&#229;&#135;&#186;&#231;&#142;&#176;2048&#230;&#184;&#184;&#230;&#136;&#143;&#233;&#128;&#154;&#229;&#133;&#179;</span>","\t\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>gameWin <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t\t\t<span class=\"k\">}</span>\t","\t\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t\t\t\t\t\t\t\t\t","\t\t\t\t\t\t<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>k<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>\t","\t\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>i <span class=\"k\">!=</span> k <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">)</span>","\t\t\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>\t","\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\t<span class=\"k\">break</span><span class=\"k\">;</span>","\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>k <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t<span class=\"k\">if</span><span class=\"k\">(</span>test <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","\t\t\t\t\t\t\thandle<span class=\"k\">.</span>setOldPos<span class=\"k\">(</span>i<span class=\"k\">,</span>j<span class=\"k\">,</span>k<span class=\"k\">,</span>j<span class=\"k\">);</span>","\t\t\t\t\t\t\tgl<span class=\"k\">.</span>map<span class=\"k\">[</span>k<span class=\"k\">][</span>j<span class=\"k\">].</span>value <span class=\"k\">=</span> t<span class=\"k\">;</span>","\t\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t\t\tflagMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","\t\t\t\t\t<span class=\"k\">}</span>\t\t\t\t\t","\t\t\t\t<span class=\"k\">}</span>","\t\t\t<span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span>","\t<span class=\"k\">return</span> flagMove<span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","",""];
_$jscoverage['js/handle.js'][1]++;
var handle = {};
_$jscoverage['js/handle.js'][6]++;
handle.initMap = (function () {
  _$jscoverage['js/handle.js'][7]++;
  gl.map = [];
  _$jscoverage['js/handle.js'][8]++;
  gl.gameScore = 0;
  _$jscoverage['js/handle.js'][9]++;
  gl.gameover = false;
  _$jscoverage['js/handle.js'][10]++;
  gl.gameWin = false;
  _$jscoverage['js/handle.js'][11]++;
  document.getElementById("score").innerHTML = gl.gameScore;
  _$jscoverage['js/handle.js'][12]++;
  for (var i = 0; (i < 4); (i++)) {
    _$jscoverage['js/handle.js'][13]++;
    gl.map[i] = new Array();
    _$jscoverage['js/handle.js'][14]++;
    for (var j = 0; (j < 4); (j++)) {
      _$jscoverage['js/handle.js'][15]++;
      gl.map[i][j] = {};
      _$jscoverage['js/handle.js'][16]++;
      gl.map[i][j].value = 0;
      _$jscoverage['js/handle.js'][17]++;
      gl.map[i][j].flag = false;
}
}
  _$jscoverage['js/handle.js'][20]++;
  gl.stdWidth = (((gl.cvs.width / 4) - 5) | 0);
  _$jscoverage['js/handle.js'][21]++;
  gl.stdHeight = gl.stdWidth;
  _$jscoverage['js/handle.js'][22]++;
  gl.bgImg = Background.getInstance();
  _$jscoverage['js/handle.js'][23]++;
  gl.bgImg.draw(gl.ctx, gl.cvs);
  _$jscoverage['js/handle.js'][24]++;
  handle.getNewData(1);
  _$jscoverage['js/handle.js'][25]++;
  handle.getNewData(1);
});
_$jscoverage['js/handle.js'][31]++;
handle.derection = (function (der) {
  _$jscoverage['js/handle.js'][32]++;
  if ((! handle.checkQueue())) {
    _$jscoverage['js/handle.js'][33]++;
    return;
  }
  _$jscoverage['js/handle.js'][34]++;
  var flagMove = false;
  _$jscoverage['js/handle.js'][35]++;
  switch (der) {
  case 37:
    _$jscoverage['js/handle.js'][36]++;
    flagMove = handle.searchMapLeft(1);
    _$jscoverage['js/handle.js'][36]++;
    break;
  case 38:
    _$jscoverage['js/handle.js'][37]++;
    flagMove = handle.searchMapUp(1);
    _$jscoverage['js/handle.js'][37]++;
    break;
  case 39:
    _$jscoverage['js/handle.js'][38]++;
    flagMove = handle.searchMapRight(1);
    _$jscoverage['js/handle.js'][38]++;
    break;
  case 40:
    _$jscoverage['js/handle.js'][39]++;
    flagMove = handle.searchMapDown(1);
    _$jscoverage['js/handle.js'][39]++;
    break;
  default:
    _$jscoverage['js/handle.js'][40]++;
    break;
  }
  _$jscoverage['js/handle.js'][42]++;
  if (flagMove) {
    _$jscoverage['js/handle.js'][43]++;
    handle.slide(der);
  }
});
_$jscoverage['js/handle.js'][50]++;
handle.slide = (function (der) {
  _$jscoverage['js/handle.js'][51]++;
  gl.ctx.clearRect(0, 0, gl.cvs.width, gl.cvs.height);
  _$jscoverage['js/handle.js'][52]++;
  gl.bgImg.draw();
  _$jscoverage['js/handle.js'][53]++;
  handle.searchRect(der);
  _$jscoverage['js/handle.js'][54]++;
  if ((! handle.checkQueue())) {
    _$jscoverage['js/handle.js'][55]++;
    window.requestAnimationFrame((function () {
  _$jscoverage['js/handle.js'][55]++;
  handle.slide(der);
}));
  }
  else {
    _$jscoverage['js/handle.js'][57]++;
    handle.obser.pubGoal();
  }
});
_$jscoverage['js/handle.js'][64]++;
handle.reDrawMap = (function () {
  _$jscoverage['js/handle.js'][65]++;
  gl.ctx.clearRect(0, 0, gl.cvs.width, gl.cvs.height);
  _$jscoverage['js/handle.js'][66]++;
  gl.bgImg.draw();
  _$jscoverage['js/handle.js'][67]++;
  for (var m = 0; (m < 4); (m++)) {
    _$jscoverage['js/handle.js'][68]++;
    for (var p = 0; (p < 4); (p++)) {
      _$jscoverage['js/handle.js'][69]++;
      var _map = gl.map[m][p];
      _$jscoverage['js/handle.js'][70]++;
      _map.flag = false;
      _$jscoverage['js/handle.js'][71]++;
      if ((_map.value > 0)) {
        _$jscoverage['js/handle.js'][72]++;
        _map.Img = new Img({x: m, y: p}, _map.value);
        _$jscoverage['js/handle.js'][73]++;
        _map.Img.drawByPos();
      }
      else {
        _$jscoverage['js/handle.js'][75]++;
        if (_map.Img) {
          _$jscoverage['js/handle.js'][76]++;
          (delete _map.Img);
        }
      }
}
}
});
_$jscoverage['js/handle.js'][84]++;
handle.changeScore = (function () {
  _$jscoverage['js/handle.js'][85]++;
  document.getElementById("score").innerHTML = gl.gameScore;
});
_$jscoverage['js/handle.js'][92]++;
handle.getNewData = (function (value) {
  _$jscoverage['js/handle.js'][93]++;
  var xx = (((Math.random() * 40) | 0) % 4);
  _$jscoverage['js/handle.js'][94]++;
  var yy = (((Math.random() * 40) | 0) % 4);
  _$jscoverage['js/handle.js'][95]++;
  var _map = gl.map[xx][yy];
  _$jscoverage['js/handle.js'][96]++;
  if ((! _map.Img)) {
    _$jscoverage['js/handle.js'][97]++;
    _map.value = value;
    _$jscoverage['js/handle.js'][98]++;
    _map.Img = new Img({x: xx, y: yy}, value);
    _$jscoverage['js/handle.js'][99]++;
    _map.Img.drawByPos();
  }
  else {
    _$jscoverage['js/handle.js'][101]++;
    handle.getNewData(value);
  }
});
_$jscoverage['js/handle.js'][105]++;
handle.gameWin = (function () {
  _$jscoverage['js/handle.js'][106]++;
  if (gl.gameWin) {
    _$jscoverage['js/handle.js'][107]++;
    document.getElementById("gameResult").innerHTML = "\u00e6\u0081\u00ad\u00e5\u0096\u009c\u00e4\u00bd\u00a0\u00ef\u00bc\u008c\u00e9\u0080\u009a\u00e5\u0085\u00b3\u00e6\u0088\u0090\u00e5\u008a\u009f\u00ef\u00bc\u0081\u00ef\u00bc\u0081\u00ef\u00bc\u0081";
    _$jscoverage['js/handle.js'][108]++;
    eventHandle.removeAllEvent();
    _$jscoverage['js/handle.js'][109]++;
    return true;
  }
  _$jscoverage['js/handle.js'][111]++;
  return false;
});
_$jscoverage['js/handle.js'][114]++;
handle.gameOver = (function () {
  _$jscoverage['js/handle.js'][115]++;
  var f1 = handle.searchMapLeft(0), f2 = handle.searchMapUp(0), f3 = handle.searchMapRight(0), f4 = handle.searchMapDown(0);
  _$jscoverage['js/handle.js'][119]++;
  if ((f1 || f2 || f3 || f4)) {
    _$jscoverage['js/handle.js'][120]++;
    return false;
  }
  else {
    _$jscoverage['js/handle.js'][122]++;
    document.getElementById("gameResult").innerHTML = "\u00e5\u00be\u0088\u00e9\u0081\u0097\u00e6\u0086\u00be\u00ef\u00bc\u008c\u00e9\u0080\u009a\u00e5\u0085\u00b3\u00e5\u00a4\u00b1\u00e8\u00b4\u00a5\u00ef\u00bc\u0081\u00ef\u00bc\u0081\u00ef\u00bc\u0081";
    _$jscoverage['js/handle.js'][123]++;
    eventHandle.removeAllEvent();
    _$jscoverage['js/handle.js'][124]++;
    return true;
  }
});
_$jscoverage['js/handle.js'][132]++;
handle.observerMove = (function () {
  _$jscoverage['js/handle.js'][133]++;
  function obj() {
    _$jscoverage['js/handle.js'][134]++;
    this.fns = [];
}
  _$jscoverage['js/handle.js'][136]++;
  obj.prototype = {constructor: obj, addObserver: (function (fn, data) {
  _$jscoverage['js/handle.js'][139]++;
  this.fns.push({fn: fn, data: data});
}), pubGoal: (function () {
  _$jscoverage['js/handle.js'][142]++;
  for (var i = 0, len = this.fns.length; (i < len); (i += 1)) {
    _$jscoverage['js/handle.js'][143]++;
    var func = this.fns[i];
    _$jscoverage['js/handle.js'][144]++;
    if (((typeof func.fn) === "function")) {
      _$jscoverage['js/handle.js'][145]++;
      if (func.data) {
        _$jscoverage['js/handle.js'][146]++;
        func.fn(func.data);
      }
      else {
        _$jscoverage['js/handle.js'][148]++;
        func.fn();
      }
    }
}
})};
  _$jscoverage['js/handle.js'][153]++;
  return obj;
})();
_$jscoverage['js/handle.js'][156]++;
handle.obser = new (handle.observerMove)();
_$jscoverage['js/handle.js'][157]++;
handle.obser.addObserver(handle.reDrawMap);
_$jscoverage['js/handle.js'][158]++;
handle.obser.addObserver(handle.changeScore);
_$jscoverage['js/handle.js'][159]++;
handle.obser.addObserver(handle.getNewData, 1);
_$jscoverage['js/handle.js'][160]++;
handle.obser.addObserver(handle.gameWin);
_$jscoverage['js/handle.js'][161]++;
handle.obser.addObserver(handle.gameOver);
_$jscoverage['js/handle.js'][162]++;
handle.obser.addObserver(handle.reDrawMap);
_$jscoverage['js/handle.js'][168]++;
handle.searchRect = (function (der) {
  _$jscoverage['js/handle.js'][169]++;
  gl.queue.length = 0;
  _$jscoverage['js/handle.js'][170]++;
  for (var i = 0; (i < 4); (i++)) {
    _$jscoverage['js/handle.js'][171]++;
    for (var j = 0; (j < 4); (j++)) {
      _$jscoverage['js/handle.js'][172]++;
      if (gl.map[i][j].Img) {
        _$jscoverage['js/handle.js'][173]++;
        gl.map[i][j].Img.move(der);
        _$jscoverage['js/handle.js'][174]++;
        gl.queue.push(gl.map[i][j].Img);
      }
}
}
});
_$jscoverage['js/handle.js'][184]++;
handle.checkQueue = (function () {
  _$jscoverage['js/handle.js'][185]++;
  for (var i = 0, len = gl.queue.length; (i < len); (i++)) {
    _$jscoverage['js/handle.js'][186]++;
    if ((! gl.queue[i].arrived)) {
      _$jscoverage['js/handle.js'][187]++;
      return false;
    }
}
  _$jscoverage['js/handle.js'][190]++;
  return true;
});
_$jscoverage['js/handle.js'][196]++;
handle.setOldPos = (function (i, j, ki, kj) {
  _$jscoverage['js/handle.js'][197]++;
  gl.map[i][j].value = 0;
  _$jscoverage['js/handle.js'][198]++;
  gl.map[i][j].Img.ePosition.x = ki;
  _$jscoverage['js/handle.js'][199]++;
  gl.map[i][j].Img.ePosition.y = kj;
});
_$jscoverage['js/handle.js'][203]++;
handle.searchMapUp = (function (test) {
  _$jscoverage['js/handle.js'][204]++;
  var flagMove = false;
  _$jscoverage['js/handle.js'][205]++;
  for (var i = 0; (i < 4); (i++)) {
    _$jscoverage['js/handle.js'][206]++;
    for (var j = 0; (j < 4); (j++)) {
      _$jscoverage['js/handle.js'][207]++;
      if ((gl.map[i][j].value > 0)) {
        _$jscoverage['js/handle.js'][208]++;
        var t = gl.map[i][j].value;
        _$jscoverage['js/handle.js'][209]++;
        if ((j == 0)) {
          _$jscoverage['js/handle.js'][210]++;
          handle.setOldPos(i, j, i, j);
          _$jscoverage['js/handle.js'][211]++;
          gl.map[i][j].value = t;
        }
        _$jscoverage['js/handle.js'][213]++;
        for (var k = (j - 1); (k >= 0); (k--)) {
          _$jscoverage['js/handle.js'][214]++;
          if ((gl.map[i][k].value > 0)) {
            _$jscoverage['js/handle.js'][216]++;
            if (((gl.map[i][k].value == t) && (! gl.map[i][k].flag))) {
              _$jscoverage['js/handle.js'][217]++;
              if ((test == 1)) {
                _$jscoverage['js/handle.js'][218]++;
                handle.setOldPos(i, j, i, k);
                _$jscoverage['js/handle.js'][219]++;
                gl.gameScore += Math.pow(2, gl.map[i][k].value);
                _$jscoverage['js/handle.js'][220]++;
                (gl.map[i][k].value++);
                _$jscoverage['js/handle.js'][221]++;
                gl.map[i][k].flag = true;
                _$jscoverage['js/handle.js'][222]++;
                if ((gl.map[i][k].value == 11)) {
                  _$jscoverage['js/handle.js'][223]++;
                  gl.gameWin = true;
                }
              }
              _$jscoverage['js/handle.js'][225]++;
              flagMove = true;
            }
            else {
              _$jscoverage['js/handle.js'][227]++;
              if ((test == 1)) {
                _$jscoverage['js/handle.js'][228]++;
                handle.setOldPos(i, j, i, (k + 1));
                _$jscoverage['js/handle.js'][229]++;
                gl.map[i][(k + 1)].value = t;
              }
              _$jscoverage['js/handle.js'][231]++;
              if ((j != (k + 1))) {
                _$jscoverage['js/handle.js'][232]++;
                flagMove = true;
              }
            }
            _$jscoverage['js/handle.js'][234]++;
            break;
          }
          _$jscoverage['js/handle.js'][236]++;
          if ((k == 0)) {
            _$jscoverage['js/handle.js'][237]++;
            if ((test == 1)) {
              _$jscoverage['js/handle.js'][238]++;
              handle.setOldPos(i, j, i, k);
              _$jscoverage['js/handle.js'][239]++;
              gl.map[i][k].value = t;
            }
            _$jscoverage['js/handle.js'][241]++;
            flagMove = true;
          }
}
      }
}
}
  _$jscoverage['js/handle.js'][247]++;
  return flagMove;
});
_$jscoverage['js/handle.js'][249]++;
handle.searchMapDown = (function (test) {
  _$jscoverage['js/handle.js'][250]++;
  var flagMove = false;
  _$jscoverage['js/handle.js'][251]++;
  for (var i = 0; (i < 4); (i++)) {
    _$jscoverage['js/handle.js'][252]++;
    for (var j = 3; (j >= 0); (j--)) {
      _$jscoverage['js/handle.js'][253]++;
      if ((gl.map[i][j].value > 0)) {
        _$jscoverage['js/handle.js'][254]++;
        var t = gl.map[i][j].value;
        _$jscoverage['js/handle.js'][255]++;
        if ((j == 3)) {
          _$jscoverage['js/handle.js'][256]++;
          handle.setOldPos(i, j, i, j);
          _$jscoverage['js/handle.js'][256]++;
          gl.map[i][j].value = t;
        }
        _$jscoverage['js/handle.js'][258]++;
        for (var k = (j + 1); (k < 4); (k++)) {
          _$jscoverage['js/handle.js'][259]++;
          if ((gl.map[i][k].value > 0)) {
            _$jscoverage['js/handle.js'][260]++;
            if (((gl.map[i][k].value == t) && (! gl.map[i][k].flag))) {
              _$jscoverage['js/handle.js'][261]++;
              if ((test == 1)) {
                _$jscoverage['js/handle.js'][262]++;
                handle.setOldPos(i, j, i, k);
                _$jscoverage['js/handle.js'][263]++;
                gl.gameScore += Math.pow(2, gl.map[i][k].value);
                _$jscoverage['js/handle.js'][264]++;
                (gl.map[i][k].value++);
                _$jscoverage['js/handle.js'][265]++;
                gl.map[i][k].flag = true;
                _$jscoverage['js/handle.js'][266]++;
                if ((gl.map[i][k].value == 11)) {
                  _$jscoverage['js/handle.js'][267]++;
                  gl.gameWin = true;
                }
              }
              _$jscoverage['js/handle.js'][269]++;
              flagMove = true;
            }
            else {
              _$jscoverage['js/handle.js'][271]++;
              if ((test == 1)) {
                _$jscoverage['js/handle.js'][272]++;
                handle.setOldPos(i, j, i, (k - 1));
                _$jscoverage['js/handle.js'][273]++;
                gl.map[i][(k - 1)].value = t;
              }
              _$jscoverage['js/handle.js'][275]++;
              if ((j != (k - 1))) {
                _$jscoverage['js/handle.js'][276]++;
                flagMove = true;
              }
            }
            _$jscoverage['js/handle.js'][278]++;
            break;
          }
          _$jscoverage['js/handle.js'][280]++;
          if ((k == 3)) {
            _$jscoverage['js/handle.js'][281]++;
            if ((test == 1)) {
              _$jscoverage['js/handle.js'][282]++;
              handle.setOldPos(i, j, i, k);
              _$jscoverage['js/handle.js'][283]++;
              gl.map[i][k].value = t;
            }
            _$jscoverage['js/handle.js'][285]++;
            flagMove = true;
          }
}
      }
}
}
  _$jscoverage['js/handle.js'][291]++;
  return flagMove;
});
_$jscoverage['js/handle.js'][294]++;
handle.searchMapLeft = (function (test) {
  _$jscoverage['js/handle.js'][295]++;
  var flagMove = false;
  _$jscoverage['js/handle.js'][296]++;
  for (var j = 0; (j < 4); (j++)) {
    _$jscoverage['js/handle.js'][297]++;
    for (var i = 0; (i < 4); (i++)) {
      _$jscoverage['js/handle.js'][298]++;
      if ((gl.map[i][j].value > 0)) {
        _$jscoverage['js/handle.js'][299]++;
        var t = gl.map[i][j].value;
        _$jscoverage['js/handle.js'][300]++;
        if ((i == 0)) {
          _$jscoverage['js/handle.js'][301]++;
          handle.setOldPos(i, j, i, j);
          _$jscoverage['js/handle.js'][302]++;
          gl.map[i][j].value = t;
        }
        _$jscoverage['js/handle.js'][304]++;
        for (var k = (i - 1); (k >= 0); (k--)) {
          _$jscoverage['js/handle.js'][305]++;
          if ((gl.map[k][j].value > 0)) {
            _$jscoverage['js/handle.js'][306]++;
            if (((gl.map[k][j].value == t) && (! gl.map[k][j].flag))) {
              _$jscoverage['js/handle.js'][307]++;
              if ((test == 1)) {
                _$jscoverage['js/handle.js'][308]++;
                handle.setOldPos(i, j, k, j);
                _$jscoverage['js/handle.js'][309]++;
                gl.gameScore += Math.pow(2, gl.map[k][j].value);
                _$jscoverage['js/handle.js'][310]++;
                (gl.map[k][j].value++);
                _$jscoverage['js/handle.js'][311]++;
                gl.map[k][j].flag = true;
                _$jscoverage['js/handle.js'][312]++;
                if ((gl.map[k][j].value == 11)) {
                  _$jscoverage['js/handle.js'][313]++;
                  gl.gameWin = true;
                }
              }
              _$jscoverage['js/handle.js'][315]++;
              flagMove = true;
            }
            else {
              _$jscoverage['js/handle.js'][317]++;
              if ((test == 1)) {
                _$jscoverage['js/handle.js'][318]++;
                handle.setOldPos(i, j, (k + 1), j);
                _$jscoverage['js/handle.js'][319]++;
                gl.map[(k + 1)][j].value = t;
              }
              _$jscoverage['js/handle.js'][321]++;
              if ((i != (k + 1))) {
                _$jscoverage['js/handle.js'][322]++;
                flagMove = true;
              }
            }
            _$jscoverage['js/handle.js'][324]++;
            break;
          }
          _$jscoverage['js/handle.js'][326]++;
          if ((k == 0)) {
            _$jscoverage['js/handle.js'][327]++;
            if ((test == 1)) {
              _$jscoverage['js/handle.js'][328]++;
              handle.setOldPos(i, j, k, j);
              _$jscoverage['js/handle.js'][329]++;
              gl.map[k][j].value = t;
            }
            _$jscoverage['js/handle.js'][331]++;
            flagMove = true;
          }
}
      }
}
}
  _$jscoverage['js/handle.js'][337]++;
  return flagMove;
});
_$jscoverage['js/handle.js'][341]++;
handle.searchMapRight = (function (test) {
  _$jscoverage['js/handle.js'][342]++;
  var flagMove = false;
  _$jscoverage['js/handle.js'][343]++;
  for (var j = 0; (j < 4); (j++)) {
    _$jscoverage['js/handle.js'][344]++;
    for (var i = 3; (i >= 0); (i--)) {
      _$jscoverage['js/handle.js'][345]++;
      if ((gl.map[i][j].value > 0)) {
        _$jscoverage['js/handle.js'][346]++;
        var t = gl.map[i][j].value;
        _$jscoverage['js/handle.js'][347]++;
        if ((i == 3)) {
          _$jscoverage['js/handle.js'][348]++;
          handle.setOldPos(i, j, i, j);
          _$jscoverage['js/handle.js'][349]++;
          gl.map[i][j].value = t;
        }
        _$jscoverage['js/handle.js'][351]++;
        for (var k = (i + 1); (k < 4); (k++)) {
          _$jscoverage['js/handle.js'][352]++;
          if ((gl.map[k][j].value > 0)) {
            _$jscoverage['js/handle.js'][353]++;
            if (((gl.map[k][j].value == t) && (! gl.map[k][j].flag))) {
              _$jscoverage['js/handle.js'][354]++;
              if ((test == 1)) {
                _$jscoverage['js/handle.js'][355]++;
                handle.setOldPos(i, j, k, j);
                _$jscoverage['js/handle.js'][356]++;
                gl.gameScore += Math.pow(2, gl.map[k][j].value);
                _$jscoverage['js/handle.js'][357]++;
                (gl.map[k][j].value++);
                _$jscoverage['js/handle.js'][358]++;
                gl.map[k][j].flag = true;
                _$jscoverage['js/handle.js'][359]++;
                if ((gl.map[k][j].value == 11)) {
                  _$jscoverage['js/handle.js'][360]++;
                  gl.gameWin = true;
                }
              }
              _$jscoverage['js/handle.js'][362]++;
              flagMove = true;
            }
            else {
              _$jscoverage['js/handle.js'][364]++;
              if ((test == 1)) {
                _$jscoverage['js/handle.js'][365]++;
                handle.setOldPos(i, j, (k - 1), j);
                _$jscoverage['js/handle.js'][366]++;
                gl.map[(k - 1)][j].value = t;
              }
              _$jscoverage['js/handle.js'][368]++;
              if ((i != (k - 1))) {
                _$jscoverage['js/handle.js'][369]++;
                flagMove = true;
              }
            }
            _$jscoverage['js/handle.js'][371]++;
            break;
          }
          _$jscoverage['js/handle.js'][373]++;
          if ((k == 3)) {
            _$jscoverage['js/handle.js'][374]++;
            if ((test == 1)) {
              _$jscoverage['js/handle.js'][375]++;
              handle.setOldPos(i, j, k, j);
              _$jscoverage['js/handle.js'][376]++;
              gl.map[k][j].value = t;
            }
            _$jscoverage['js/handle.js'][378]++;
            flagMove = true;
          }
}
      }
}
}
  _$jscoverage['js/handle.js'][384]++;
  return flagMove;
});
